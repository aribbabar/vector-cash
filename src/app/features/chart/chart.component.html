<h2>Financial Overview</h2>

<div class="chart-container">
  <div class="chart-header">
    <div class="time-frame-selector">
      <button
        mat-button
        *ngFor="let timeFrame of timeFrames"
        [ngClass]="{ active: selectedTimeFrame === timeFrame }"
        (click)="filterByTimeFrame(timeFrame)"
      >
        {{ timeFrame | uppercase }}
      </button>
      <button
        mat-button
        [ngClass]="{ active: selectedTimeFrame === 'all' }"
        (click)="filterByTimeFrame('all')"
      >
        All
      </button>
    </div>
  </div>

  <div class="chart-legend">
    <div class="legend-item">
      <span class="legend-color assets"></span>
      <span>Assets</span>
    </div>
    <div class="legend-item">
      <span class="legend-color liabilities"></span>
      <span>Liabilities</span>
    </div>
    <div class="legend-item">
      <span class="legend-color net-worth"></span>
      <span>Net Worth</span>
    </div>
  </div>

  <div class="chart-content">
    <div *ngIf="filteredData.length === 0" class="no-data">
      <p>
        No financial data available for the selected time period. Try a
        different time range.
      </p>
    </div>
    <!-- Add ngIf with else to ensure proper DOM updates -->
    <div *ngIf="filteredData.length > 0" class="chart-scroll-container">
      <div id="chart"></div>
      <div id="tooltip" class="tooltip">
        <div class="tooltip-date">
          <span class="date"></span>
        </div>
        <div class="tooltip-assets">
          Assets: <span class="assets-value"></span>
        </div>
        <div class="tooltip-liabilities">
          Liabilities: <span class="liabilities-value"></span>
        </div>
        <div class="tooltip-net-worth">
          Net Worth: <span class="net-worth-value"></span>
        </div>
      </div>
    </div>
  </div>
</div>
